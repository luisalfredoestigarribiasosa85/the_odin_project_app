<nav class="border-b border-slate-800 bg-slate-900/90 text-white backdrop-blur" data-controller="mobile-menu">
  <div class="mx-auto w-full max-w-6xl px-4 sm:px-6 lg:px-8">
    <div class="flex flex-col gap-4 py-4 sm:flex-row sm:items-center sm:justify-between">
      <div class="flex w-full items-center justify-between gap-3 sm:w-auto">
        <%= link_to root_path, class: "flex items-center gap-3" do %>
          <div class="flex h-10 w-10 items-center justify-center rounded-2xl bg-white/10 text-lg font-semibold">ðŸš—</div>
          <div>
            <p class="text-sm font-semibold uppercase tracking-[0.4em] text-slate-400">Dealer</p>
            <span class="text-xl font-semibold tracking-tight text-white">Car Dealer</span>
          </div>
        <% end %>

        <button type="button"
                class="inline-flex items-center justify-center rounded-full border border-white/10 p-2 text-white transition hover:border-white/40 hover:bg-white/10 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-slate-200 sm:hidden"
                data-action="click->mobile-menu#toggle">
          <span class="sr-only">Abrir menÃº</span>
          <svg data-mobile-menu-target="openIcon" xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="1.5">
            <path stroke-linecap="round" stroke-linejoin="round" d="M3.75 6.75h16.5M3.75 12h16.5M3.75 17.25h16.5" />
          </svg>
          <svg data-mobile-menu-target="closeIcon" xmlns="http://www.w3.org/2000/svg" class="hidden h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="1.5">
            <path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12" />
          </svg>
        </button>
      </div>

      <div data-mobile-menu-target="menu"
           class="hidden flex-col gap-3 border-t border-white/10 pt-4 sm:flex sm:flex-row sm:flex-wrap sm:items-center sm:justify-end sm:gap-2 sm:border-t-0 sm:pt-0">
        <% nav_link_base = "inline-flex w-full items-center justify-center rounded-full px-4 py-2 text-sm font-semibold transition sm:w-auto" %>

        <%= link_to "Autos", cars_path,
                    class: [nav_link_base, current_page?(cars_path) ? "bg-white text-slate-900 shadow-lg shadow-white/10" : "text-slate-200 hover:bg-white/10"] %>

        <% if user_signed_in? %>
          <%= link_to "Agregar vehÃ­culo", new_car_path,
                      class: [nav_link_base, current_page?(new_car_path) ? "bg-white text-slate-900 shadow-lg shadow-white/10" : "border border-white/10 text-white hover:border-white/30 hover:bg-white/10"] %>
          <%= link_to "Perfil", edit_user_registration_path,
                      class: [nav_link_base, current_page?(edit_user_registration_path) ? "bg-white text-slate-900 shadow-lg shadow-white/10" : "border border-white/10 text-white hover:border-white/30 hover:bg-white/10"] %>
          <%= link_to "Cerrar SesiÃ³n", destroy_user_session_path,
                      method: :delete,
                      data: { turbo_method: :delete },
                      class: [nav_link_base, "border border-white/10 text-red-300 hover:border-white/30 hover:text-red-500 hover:bg-red-100 cursor-pointer"] %>
        <% else %>
          <%= link_to "Iniciar SesiÃ³n", new_user_session_path,
                      class: [nav_link_base, current_page?(new_user_session_path) ? "bg-white text-slate-900 shadow-lg shadow-white/10" : "border border-white/10 text-white hover:border-white/30 hover:bg-white/10"] %>
          <%= link_to "Registrarse", new_user_registration_path,
                      class: [nav_link_base, current_page?(new_user_registration_path) ? "bg-white text-slate-900 shadow-lg shadow-white/10" : "border border-white/10 text-white hover:border-white/30 hover:bg-white/10"] %>
        <% end %>
      </div>
    </div>
  </div>
</nav>
